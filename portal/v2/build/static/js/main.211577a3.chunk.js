(this["webpackJsonparo-rp"]=this["webpackJsonparo-rp"]||[]).push([[0],{165:function(e,t,n){"use strict";n.r(t);var r=n(62),i=n.n(r),s=n(14),a=n(0),o=n(4),c=n(257),l=n(245),d=n(8),u=n(242),j=n(246),b=n(20),h=n(238),p=n(249),m=n(239),O=n(117),f=n(213),x=n(25),g=n(42),v=n(214),y=n(236),C=n(241),S=n(243),k=n(244),w=n(43),A=n.n(w),I=n(2),T={iconName:"Cancel"},N={iconName:"Copy"},R=[{key:0,text:"master-0"},{key:1,text:"master-1"},{key:2,text:"master-2"}],L=Object(o.B)(),D=Object(o.E)({container:{display:"flex",flexFlow:"column nowrap",alignItems:"stretch"},header:[{flex:"1 1 auto",borderTop:"4px solid ".concat(L.palette.themePrimary),color:L.palette.neutralPrimary,display:"flex",alignItems:"center",fontSize:o.e.xLargePlus,fontWeight:o.f.semibold,padding:"12px 12px 14px 24px"}],body:{flex:"4 4 auto",padding:"0 24px 24px 24px",overflowY:"hidden",selectors:{p:{margin:"14px 0"},"p:first-child":{marginTop:0},"p:last-child":{marginBottom:0}}}}),P={root:{color:L.palette.neutralPrimary,marginLeft:"auto",marginTop:"4px",marginRight:"2px"},rootHovered:{color:L.palette.neutralDark}},B=Object(a.forwardRef)((function(e,t){var n=e.csrfToken,r=Object(f.a)(!1),i=Object(s.a)(r,2),o=i[0],j=i[1],b=j.setTrue,h=j.setFalse,p=Object(v.a)("title"),m=Object(f.a)(!1),O=Object(s.a)(m,2),w=O[0],L=O[1],B=L.setTrue,H=L.setFalse,E=Object(a.useState)(""),z=Object(s.a)(E,2),M=z[0],_=z[1],F=Object(a.useState)(),G=Object(s.a)(F,2),W=G[0],Z=G[1],U=Object(f.a)(!1),V=Object(s.a)(U,2),K=V[0],q=V[1],J=q.setTrue,X=q.setFalse,Y=Object(a.useState)(),Q=Object(s.a)(Y,2),$=Q[0],ee=Q[1],te=Object(a.useState)(null),ne=Object(s.a)(te,2),re=ne[0],ie=ne[1];Object(a.useImperativeHandle)(t,(function(){return{LoadSSH:function(e){X(),ee(null),ie(null),b(),_(e)}}})),Object(a.useEffect)((function(){function e(){return(e=Object(g.a)(Object(x.a)().mark((function e(){var t;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,ie(null),e.next=4,A()({method:"post",url:M+"/ssh/new",data:{master:null===W||void 0===W?void 0:W.key},headers:{"X-CSRF-Token":n.current}});case 4:t=e.sent,ee(t.data),J(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),J(),ie(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}w&&W&&(H(),function(){e.apply(this,arguments)}())}),[M,W,n,w,H,J]);var se=function(e,t){Z(t),J()};return Object(I.jsx)("div",{children:Object(I.jsxs)(S.a,{titleAriaId:p,isOpen:o,onDismiss:h,isModeless:!0,containerClassName:D.container,children:[Object(I.jsxs)("div",{className:D.header,id:"sshModal",children:[Object(I.jsx)("span",{id:p,children:"SSH Access"}),Object(I.jsx)(c.a,{styles:P,iconProps:T,ariaLabel:"Close popup modal",onClick:h})]}),Object(I.jsxs)("div",{className:D.body,children:[Object(I.jsxs)("p",{children:["Before requesting SSH access, please ensure you have read the"," ",Object(I.jsx)("a",{href:"https://msazure.visualstudio.com/AzureRedHatOpenShift/_wiki/wikis/ARO.wiki/136823/ARO-SRE-portal?anchor=ssh-(elevated)",children:"SSH docs"}),"."]}),re&&Object(I.jsx)(l.a,{messageBarType:d.a.error,isMultiline:!1,onDismiss:function(){return ie(null)},dismissButtonAriaLabel:"Close",children:null===re||void 0===re?void 0:re.statusText}),$?Object(I.jsx)("div",{children:Object(I.jsxs)(u.a,{id:"sshCommand",children:[Object(I.jsxs)(u.a,{horizontal:!0,verticalAlign:"end",children:[Object(I.jsx)(u.a.Item,{grow:!0,children:Object(I.jsx)(C.a,{label:"Command",value:null===$||void 0===$?void 0:$.command,readOnly:!0})}),Object(I.jsx)(u.a.Item,{children:Object(I.jsx)(c.a,{iconProps:N,ariaLabel:"Copy command",onClick:function(){$&&navigator.clipboard.writeText($.command)}})})]}),Object(I.jsxs)(u.a,{horizontal:!0,verticalAlign:"end",children:[Object(I.jsxs)(u.a.Item,{grow:!0,children:[Object(I.jsx)(C.a,{label:"Password",value:null===$||void 0===$?void 0:$.password,type:"password",canRevealPassword:!0,readOnly:!0})," "]}),Object(I.jsx)(u.a.Item,{children:Object(I.jsx)(c.a,{iconProps:N,ariaLabel:"Copy password",onClick:function(){$&&navigator.clipboard.writeText($.password)}})})]})]})}):Object(I.jsxs)(u.a,{tokens:{childrenGap:15},children:[Object(I.jsx)(y.a,{id:"sshDropdown",label:"Machine Selection",onChange:se,options:R}),Object(I.jsx)(k.a,{onClick:B,id:"sshButton",text:"Request",disabled:!K})]})]})]})})}));B.displayName="sshmodal";var H=n(251),E=function(e){return 403===e.status?(document.location.href="/api/login",null):e},z=function(){var e=Object(g.a)(Object(x.a)().mark((function e(){var t,n;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A()("/api/clusters");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),n=e.t0.response,e.abrupt("return",E(n));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(g.a)(Object(x.a)().mark((function e(t){var n,r;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A()("/api/"+t.subscription+"/"+t.resourceGroup+"/"+t.name);case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),r=e.t0.response,e.abrupt("return",E(r));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(g.a)(Object(x.a)().mark((function e(){var t,n;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A()("/api/info");case 3:return t=e.sent,e.abrupt("return",t);case 7:return e.prev=7,e.t0=e.catch(0),n=e.t0.response,e.abrupt("return",E(n));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(g.a)(Object(x.a)().mark((function e(){var t,n;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A()({method:"POST",url:"/api/logout"});case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),n=e.t0.response,console.log(n);case 11:document.location.href="/api/login";case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(g.a)(Object(x.a)().mark((function e(t,n){var r,i;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A()({method:"POST",url:n+"/kubeconfig/new",headers:{"X-CSRF-Token":t}});case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(0),i=e.t0.response,e.abrupt("return",E(i));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),W=n(250),Z=n(67),U=n(68),V=n(73),K=n(69),q=n(27),J=n(234),X={apiServerVisibility:"ApiServer Visibility",apiServerURL:"ApiServer URL",architectureVersion:"Architecture Version",consoleLink:"Console Link",createdAt:"Created At",createdBy:"Created By",failedProvisioningState:"Failed Provisioning State",infraId:"Infra Id",lastAdminUpdateError:"Last Admin Update Error",lastModifiedAt:"Last Modified At",lastModifiedBy:"Last Modified By",lastProvisioningState:"Last Provisioning State",location:"Location",name:"Name",provisioningState:"Provisioning State",version:"Version",installStatus:"Installation Status"},Y={root:{margin:"11px 0"}},Q={root:{margin:"15px 0"}},$=[{type:q.a.line,height:32,width:"25%"}],ee=[{type:q.a.line,height:18,width:"75%"}],te={root:{paddingTop:10,paddingRight:15}},ne={root:{paddingTop:10}},re={root:{fontStyle:"bold",alignSelf:"flex-start",fontVariantAlternates:"bold",color:"grey",paddingBottom:10}},ie={root:{paddingBottom:10}};function se(e){if("string"==typeof e.value)return Object(I.jsx)(u.a.Item,{id:"ClusterDetailCell",styles:e.style,children:Object(I.jsx)(p.a,{styles:e.style,variant:"medium",children:e.value})})}var ae=function(e){Object(V.a)(n,e);var t=Object(K.a)(n);function n(e){return Object(Z.a)(this,n),t.call(this,e)}return Object(U.a)(n,[{key:"render",value:function(){var e=this,t=Object.entries(X);switch(this.props.detailPanelVisible){case"Overview":return 0!=this.props.item.length?Object(I.jsx)(u.a,{styles:De,children:Object(I.jsxs)(u.a,{horizontal:!0,children:[Object(I.jsx)(u.a,{id:"Headers",styles:te,children:t.map((function(e,t){return Object(I.jsx)(se,{style:re,value:e[1]},t)}))}),Object(I.jsx)(u.a,{id:"Colons",styles:te,children:Array(t.length).fill(":").map((function(e,t){return Object(I.jsx)(se,{style:re,value:e},t)}))}),Object(I.jsx)(u.a,{id:"Values",styles:ne,children:t.map((function(t,n){return Object(I.jsx)(se,{style:ie,value:null!=e.props.item[t[0]]&&e.props.item[t[0]].toString().length>0?e.props.item[t[0]]:"Undefined"},n)}))})]})}):Object(I.jsxs)(u.a,{children:[Object(I.jsx)(J.a,{styles:Q,shimmerElements:$,width:"25%"}),t.map((function(e,t){return Object(I.jsx)(J.a,{styles:Y,shimmerElements:ee,width:"75%"},t)}))]});case"Nodes":var n;return Object(I.jsxs)(u.a,{styles:De,children:[Object(I.jsx)(p.a,{variant:"xxLarge",children:null===(n=this.props.cluster)||void 0===n?void 0:n.name}),Object(I.jsxs)(u.a,{horizontal:!0,children:[Object(I.jsx)(u.a,{styles:te,children:"Node detail"}),Object(I.jsx)(u.a,{styles:te,children:"Node detail2"}),Object(I.jsx)(u.a,{styles:ne,children:"Node detail3"})]})]})}}}]),n}(a.Component),oe={root:{width:155,paddingRight:"10px"},link:{whiteSpace:"normal",lineHeight:"inherit"},groupContent:{marginBottom:"0px"}},ce=[{links:[{name:"Overview",key:"overview",url:"#overview",icon:"ThisPC"}]}],le={root:{top:"40px",left:"225px"},content:{paddingLeft:30,paddingRight:5},navigation:{justifyContent:"flex-start"}},de={root:{alignSelf:"flex-start",flexGrow:2,height:48,paddingLeft:30,marginBottom:15}},ue={root:{height:"100%",width:40,paddingTop:4,paddingRight:10,svg:{fill:"#e3222f"}}},je={root:{marginBottom:15}};function be(e){var t,n=Object(a.useState)([]),r=Object(s.a)(n,2),i=r[0],o=r[1],c=Object(a.useState)(null),h=Object(s.a)(c,2),p=h[0],m=h[1],x=Object(a.useRef)(null),g=Object(a.useState)(""),v=Object(s.a)(g,2),y=v[0],C=v[1],S=Object(f.a)(!1),k=Object(s.a)(S,2),w=k[0],A=k[1],T=A.setTrue,N=A.setFalse,R=Object(a.useState)(!1),L=Object(s.a)(R,2),D=L[0],P=L[1],B=Object(a.useState)("Overview"),E=Object(s.a)(B,2),z=E[0],_=E[1];Object(a.useEffect)((function(){if(null!=e.currentCluster){var t=e.currentCluster.resourceId;""===y&&"DONE"===e.csrfTokenAvailable&&""!=t&&(C("FETCHING"),m(null),M(e.currentCluster).then((function(e){var n;200===(null===e||void 0===e?void 0:e.status)?(n=e.data,o(n),x&&x.current&&x.current.setState({item:n}),P(!0)):m(e),C(t)})))}}),[i,y,C]),Object(a.useEffect)((function(){if(null!=e.currentCluster){var t=e.currentCluster.resourceId;""!=t&&(t==y?(T(),P(!0)):(o([]),C(""),P(!1),T()))}else P(!1)}),[null===(t=e.currentCluster)||void 0===t?void 0:t.resourceId]);return Object(I.jsx)(j.a,{isOpen:w,type:b.a.custom,onDismiss:function(){N(),e.onClose(),o([]),C(""),P(!1),m(null)},isBlocking:!1,styles:le,closeButtonAriaLabel:"Close",onRenderHeader:function(){var t;return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(u.a,{styles:de,horizontal:!0,children:[Object(I.jsx)(u.a.Item,{children:Object(I.jsx)(O.a,{styles:ue,iconName:"openshift-svg"})}),Object(I.jsxs)(u.a.Item,{children:[Object(I.jsx)("div",{className:ze.titleText,children:null===(t=e.currentCluster)||void 0===t?void 0:t.name}),Object(I.jsx)("div",{className:ze.subtitleText,children:"Cluster"})]})]})})},children:Object(I.jsxs)(u.a,{children:[Object(I.jsx)(u.a.Item,{grow:!0,children:p&&Object(I.jsx)(l.a,{messageBarType:d.a.error,isMultiline:!1,onDismiss:function(){return m(null)},dismissButtonAriaLabel:"Close",styles:je,children:null===p||void 0===p?void 0:p.statusText})}),Object(I.jsxs)(u.a,{horizontal:!0,children:[Object(I.jsx)(u.a.Item,{children:Object(I.jsx)(W.a,{onLinkClick:function(e,t){t&&""!==t.name&&_(t.name)},ariaLabel:"Select a tab to view",styles:oe,groups:ce})}),Object(I.jsx)(H.a,{vertical:!0}),Object(I.jsx)(u.a.Item,{grow:!0,children:Object(I.jsx)(ae,{item:i,cluster:e.currentCluster,isDataLoaded:D,detailPanelVisible:z})})]})]})})}var he=n(252),pe=n(237),me=n(233),Oe=n(31),fe=n(10),xe=n(115),ge=Object(a.forwardRef)((function(e){var t=e.csrfToken,n=e.resourceId,r=Object(a.useState)({name:"",content:""}),i=Object(s.a)(r,2),o=i[0],l=i[1],d=Object(a.useState)(null),u=Object(s.a)(d,2),j=u[0],b=u[1],h=Object(a.useState)("DONE"),p=Object(s.a)(h,2),O=p[0],f=p[1],x=Object(a.useRef)(null);return Object(a.useEffect)((function(){""===O&&(f("FETCHING"),G(t.current,n).then((function(e){if(200===(null===e||void 0===e?void 0:e.status)){var t=new Blob([e.request.response]),n=URL.createObjectURL(t),r=Object(xe.parse)(e.headers["content-disposition"]).parameters.filename;l({content:n,name:r})}else b(e);f("DONE")})))}),[O,j,o,n,t]),Object(a.useLayoutEffect)((function(){o.content&&x&&x.current&&(x.current.href=o.content,x.current.download=o.name,x.current.click(),URL.revokeObjectURL(o.content),o.content="")}),[o]),Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(m.a,{content:"Download Kubeconfig",children:[Object(I.jsx)(c.a,{iconProps:{iconName:"HardDriveGroup"},disabled:"FETCHING"===O,"aria-label":"Download Kubeconfig",onClick:function(){return f("")}}),Object(I.jsx)("a",{style:{display:"none"},ref:x,href:"#",children:"dl"})]})})}));ge.displayName="kubeconfigbutton";var ve={root:{marginBottom:15}},ye=Object(o.E)({controlWrapper:{display:"flex",flexWrap:"wrap"},fullWidth:{width:"100%"},fileIconImg:{verticalAlign:"middle",maxHeight:"20px",maxWidth:"20px"},headerIcon:{height:18,paddingTop:1},iconContainer:{margin:"-11px 0px",height:42},controlButtonContainer:{paddingLeft:0},itemsCount:{padding:"10px 0px"}}),Ce={root:{paddingLeft:0}},Se={root:{fontSize:0,marginBottom:20,padding:0}},ke={headerWrapper:{marginTop:"-16px"}},we=function(e){Object(V.a)(n,e);var t=Object(K.a)(n);function n(e){var r;Object(Z.a)(this,n),(r=t.call(this,e))._sshModal=void 0,r._onChangeText=function(e,t){r.setState({items:t?r.props.items.filter((function(e){return e.resourceId.toLowerCase().indexOf(t)>-1})):r.props.items})},r._onColumnClick=function(e,t){var n=r.state,i=n.columns,s=n.items,a=i.slice(),o=a.filter((function(e){return t.key===e.key}))[0];a.forEach((function(e){e===o?(o.isSortedDescending=!o.isSortedDescending,o.isSorted=!0):(e.isSorted=!1,e.isSortedDescending=!0)})),r.setState({columns:a,items:s})},r._sshModal=e.sshModalRef;var i=[{key:"icon",name:"",fieldName:"",minWidth:24,isRowHeader:!1,data:"string",isPadded:!1,maxWidth:24,onRender:function(){return Object(I.jsx)(u.a,{horizontal:!0,verticalAlign:"center",className:ye.iconContainer,children:Object(I.jsx)("img",{src:"/favicon.ico",className:ye.headerIcon,alt:""})})}},{key:"name",name:"Name",fieldName:"name",minWidth:100,flexGrow:10,isRowHeader:!0,isResizable:!0,isSorted:!0,isSortedDescending:!1,sortAscendingAriaLabel:"Sorted A to Z",sortDescendingAriaLabel:"Sorted Z to A",onColumnClick:r._onColumnClick,data:"string",onRender:function(e){return Object(I.jsx)(he.a,{onClick:function(){return r._onClusterInfoLinkClick(e)},children:e.name})},isPadded:!0},{key:"subscription",name:"Subscription",fieldName:"subscription",minWidth:100,flexGrow:10,isRowHeader:!0,isResizable:!0,isSorted:!0,isSortedDescending:!1,sortAscendingAriaLabel:"Sorted A to Z",sortDescendingAriaLabel:"Sorted Z to A",onColumnClick:r._onColumnClick,data:"string",isPadded:!0},{key:"version",name:"Version",fieldName:"version",minWidth:50,flexGrow:3,isRowHeader:!0,isResizable:!0,isSorted:!0,isSortedDescending:!1,sortAscendingAriaLabel:"Sorted A to Z",sortDescendingAriaLabel:"Sorted Z to A",onColumnClick:r._onColumnClick,data:"string",isPadded:!0},{key:"createdDate",name:"Creation Date",fieldName:"createdAt",minWidth:100,flexGrow:5,isRowHeader:!0,isResizable:!0,isSorted:!0,isSortedDescending:!1,sortAscendingAriaLabel:"Sorted A to Z",sortDescendingAriaLabel:"Sorted Z to A",onColumnClick:r._onColumnClick,data:"string",isPadded:!0},{key:"provisionedBy",name:"Provisioned By",fieldName:"provisionedBy",minWidth:100,flexGrow:5,isRowHeader:!0,isResizable:!0,isSorted:!0,isSortedDescending:!1,sortAscendingAriaLabel:"Sorted A to Z",sortDescendingAriaLabel:"Sorted Z to A",onColumnClick:r._onColumnClick,data:"string",isPadded:!0},{key:"state",name:"State",fieldName:"provisioningState",minWidth:100,flexGrow:5,isRowHeader:!0,isResizable:!0,isSorted:!0,isSortedDescending:!1,sortAscendingAriaLabel:"Sorted A to Z",sortDescendingAriaLabel:"Sorted Z to A",onColumnClick:r._onColumnClick,onRender:function(e){return Object(I.jsxs)(p.a,{children:[e.provisioningState,e.failedProvisioningState&&" - "+e.failedProvisioningState]})},data:"string",isPadded:!0},{key:"icons",name:"Actions",fieldName:"icons",minWidth:92,flexGrow:5,isRowHeader:!1,data:"string",isPadded:!0,onRender:function(t){return Object(I.jsxs)(u.a,{horizontal:!0,verticalAlign:"center",className:ye.iconContainer,children:[Object(I.jsx)(m.a,{content:"Copy Resource ID",children:Object(I.jsx)(c.a,{iconProps:{iconName:"Copy"},"aria-label":"Copy Resource ID",onClick:function(){return r._onCopyResourceID(t)}})}),Object(I.jsx)(m.a,{content:"Prometheus",children:Object(I.jsx)(c.a,{iconProps:{iconName:"BIDashboard"},"aria-label":"Prometheus",href:t.resourceId+"/prometheus"})}),Object(I.jsx)(m.a,{content:"SSH",children:Object(I.jsx)(c.a,{iconProps:{iconName:"CommandPrompt"},"aria-label":"SSH",onClick:function(){return r._onSSHClick(t)}})}),Object(I.jsx)(ge,{resourceId:t.resourceId,csrfToken:e.csrfToken})]})}}];return r.state={items:r.props.items,columns:i,modalOpen:!1},r}return Object(U.a)(n,[{key:"render",value:function(){var e=this.state,t=e.columns,n=e.items;return Object(I.jsxs)(u.a,{children:[Object(I.jsx)("div",{className:ye.controlWrapper,children:Object(I.jsx)(C.a,{placeholder:"Filter on resource ID",onChange:this._onChangeText})}),Object(I.jsxs)(p.a,{id:"ClusterCount",className:ye.itemsCount,children:["Showing ",n.length," items"]}),Object(I.jsx)(me.a,{items:n,columns:t,selectionMode:Oe.c.none,getKey:this._getKey,setKey:"none",layoutMode:fe.e.fixedColumns,isHeaderVisible:!0,onItemInvoked:this._onItemInvoked,styles:ke})]})}},{key:"_getKey",value:function(e){return e.key}},{key:"_onSSHClick",value:function(e){var t=this._sshModal;t&&t.current&&t.current.LoadSSH(e.resourceId)}},{key:"_onCopyResourceID",value:function(e){navigator.clipboard.writeText(e.resourceId)}},{key:"_onClusterInfoLinkClick",value:function(e){this.props.setCurrentCluster(e)}},{key:"_onItemInvoked",value:function(e){alert("Item invoked: ".concat(e.resourceId))}}]),n}(a.Component);function Ae(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(null),c=Object(s.a)(o,2),j=c[0],b=c[1],h=Object(a.useRef)(null),p=Object(a.useState)(""),m=Object(s.a)(p,2),O=m[0],f=m[1],x=function(e){i(e),h&&h.current&&h.current.setState({items:e})};Object(a.useEffect)((function(){""===O&&"DONE"===e.csrfTokenAvailable&&(f("FETCHING"),z().then((function(e){200===(null===e||void 0===e?void 0:e.status)?x(e.data):b(e),f("DONE")})))}),[r,O,f,e.csrfTokenAvailable]);var g=[{key:"refresh",text:"Refresh",iconProps:{iconName:"Refresh"},onClick:function(){x([]),f("")}}];return Object(I.jsxs)(u.a,{children:[Object(I.jsx)("span",{className:ze.titleText,children:"Clusters"}),Object(I.jsx)("span",{className:ze.subtitleText,children:"Azure Red Hat OpenShift"}),Object(I.jsx)(pe.a,{items:g,ariaLabel:"Use left and right arrow keys to navigate between commands",className:ye.controlButtonContainer,styles:Ce}),Object(I.jsx)(H.a,{styles:Se}),j&&Object(I.jsx)(l.a,{messageBarType:d.a.error,isMultiline:!1,onDismiss:function(){return b(null)},dismissButtonAriaLabel:"Close",styles:ve,children:null===j||void 0===j?void 0:j.statusText}),Object(I.jsx)(we,{items:r,ref:h,sshModalRef:e.sshBox,setCurrentCluster:e.setCurrentCluster,csrfToken:e.csrfToken})]})}var Ie={},Te={childrenGap:10},Ne={root:{marginBottom:15}},Re={root:[{width:"100%",padding:0}]},Le={root:{fontWeight:600}},De={root:[{padding:20}]},Pe={root:{padding:"0px 15px",height:40}},Be={icon:{color:o.d.white}},He={semanticColors:{bodyBackground:o.d.themePrimary,bodyText:o.d.white}},Ee={navigation:{height:40,lineHeight:40,fontSize:15,paddingLeft:15,justifyContent:"start",alignItems:"center"}},ze=Object(o.E)({titleText:{fontWeight:600,fontSize:24,lineHeight:32},subtitleText:{color:"#646464",fontSize:12,lineHeight:14,margin:0}});Object(o.I)({icons:{"openshift-svg":Object(I.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 64 64",children:[Object(I.jsxs)("g",{children:[Object(I.jsx)("path",{d:"M17.424 27.158L7.8 30.664c.123 1.545.4 3.07.764 4.566l9.15-3.333c-.297-1.547-.403-3.142-.28-4.74M60 16.504c-.672-1.386-1.45-2.726-2.35-3.988l-9.632 3.506c1.12 1.147 2.06 2.435 2.83 3.813z"}),Object(I.jsx)("path",{d:"M38.802 13.776c2.004.935 3.74 2.21 5.204 3.707l9.633-3.506a27.38 27.38 0 0 0-10.756-8.95c-13.77-6.42-30.198-.442-36.62 13.326a27.38 27.38 0 0 0-2.488 13.771l9.634-3.505c.16-2.087.67-4.18 1.603-6.184 4.173-8.947 14.844-12.83 23.79-8.658"})]}),Object(I.jsx)("path",{d:"M9.153 35.01L0 38.342c.84 3.337 2.3 6.508 4.304 9.33l9.612-3.5a17.99 17.99 0 0 1-4.763-9.164"}),Object(I.jsx)("path",{d:"M49.074 31.38a17.64 17.64 0 0 1-1.616 6.186c-4.173 8.947-14.843 12.83-23.79 8.657a17.71 17.71 0 0 1-5.215-3.7l-9.612 3.5c2.662 3.744 6.293 6.874 10.748 8.953 13.77 6.42 30.196.44 36.618-13.328a27.28 27.28 0 0 0 2.479-13.765l-9.61 3.498z"}),Object(I.jsx)("path",{d:"M51.445 19.618l-9.153 3.332c1.7 3.046 2.503 6.553 2.24 10.08l9.612-3.497c-.275-3.45-1.195-6.817-2.7-9.915"})]})}});var Me=function(){var e=Object(a.useState)({location:"",csrf:"",elevated:!1,username:""}),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(null),o=Object(s.a)(i,2),x=o[0],g=o[1],v=Object(f.a)(!1),y=Object(s.a)(v,2),C=y[0],S=y[1],k=S.setTrue,w=S.setFalse,A=Object(a.useState)(""),T=Object(s.a)(A,2),N=T[0],R=T[1],L=Object(a.useState)(null),D=Object(s.a)(L,2),P=D[0],H=D[1],E=Object(a.useState)(De),z=Object(s.a)(E,2),M=z[0],G=z[1],W=Object(a.useRef)(null),Z=Object(a.useRef)("");Object(a.useEffect)((function(){""===N&&(R("FETCHING"),_().then((function(e){200===(null===e||void 0===e?void 0:e.status)?(r(e.data),Z.current=e.data.csrf):g(e),R("DONE")})))}),[N,x,n]);var U=Object(a.useCallback)((function(){return Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(c.a,{iconProps:{iconName:"GlobalNavButton"},onClick:w})})}),[w]);return Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(u.a,{styles:Re,tokens:Ie,horizontalAlign:"stretch",children:[Object(I.jsx)(j.a,{isLightDismiss:!0,styles:Ee,type:b.a.smallFixedNear,isOpen:C,onDismiss:w,closeButtonAriaLabel:"Close",onRenderNavigationContent:U,children:Object(I.jsx)("p",{children:"regions go here"})}),Object(I.jsx)(h.a,{theme:He,children:Object(I.jsxs)(u.a,{grow:!0,tokens:Te,horizontalAlign:"start",verticalAlign:"center",horizontal:!0,styles:Pe,children:[Object(I.jsx)(u.a.Item,{children:Object(I.jsx)(c.a,{iconProps:{iconName:"GlobalNavButton"},onClick:k,styles:Be})}),Object(I.jsx)(u.a.Item,{grow:!0,children:Object(I.jsxs)(p.a,{styles:Le,children:["ARO Portal ",n.location?"("+n.location+")":""]})}),Object(I.jsx)(u.a.Item,{children:Object(I.jsx)(p.a,{children:n.username})}),Object(I.jsx)(u.a.Item,{hidden:!n.elevated,children:Object(I.jsx)(m.a,{content:"Elevated User",children:Object(I.jsx)(O.a,{iconName:"Admin"})})}),Object(I.jsx)(u.a.Item,{children:Object(I.jsx)(c.a,{iconProps:{iconName:"SignOut"},onClick:function(){F()},styles:Be})})]})}),Object(I.jsxs)(u.a,{styles:M,children:[Object(I.jsx)(u.a.Item,{grow:!0,children:x&&(console.log(x),Object(I.jsx)(l.a,{messageBarType:d.a.error,isMultiline:!1,onDismiss:function(){return g(null)},dismissButtonAriaLabel:"Close",styles:Ne,children:null===x||void 0===x?void 0:x.statusText}))}),Object(I.jsx)(u.a.Item,{grow:!0,children:Object(I.jsx)(Ae,{csrfToken:Z,sshBox:W,setCurrentCluster:H,csrfTokenAvailable:N})}),Object(I.jsx)(u.a.Item,{grow:!0,children:Object(I.jsx)(be,{csrfToken:Z,csrfTokenAvailable:N,currentCluster:P,onClose:function(){H(null),G(De)}})})]}),Object(I.jsx)(B,{csrfToken:Z,ref:W})]})})},_e=n(116);Object(_e.a)(),Object(o.F)({":global(body,html,#root)":{margin:0,padding:0,height:"100vh"}}),i.a.render(Object(I.jsx)(Me,{}),document.getElementById("root"))}},[[165,1,2]]]);
//# sourceMappingURL=main.211577a3.chunk.js.map